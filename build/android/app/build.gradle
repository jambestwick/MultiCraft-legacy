apply plugin: 'com.android.application'
android {
	compileSdkVersion 29
	buildToolsVersion '29.0.2'

	defaultConfig {
		applicationId 'com.multicraft.game'
		minSdkVersion 16
		targetSdkVersion 29
		versionCode 21
		/*multiDexEnabled true*/
	}
	Properties props = new Properties()
	props.load(new FileInputStream(file('../local.properties')))

	if (props.getProperty('keystore') != null) {
		signingConfigs {
			release {
				storeFile file(props['keystore'])
				storePassword props['keystore.password']
				keyAlias props['key']
				keyPassword props['key.password']
			}
		}

		buildTypes {
			release {
				minifyEnabled false
				proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
				signingConfig signingConfigs.release
			}
		}
	}

	compileOptions {
		sourceCompatibility JavaVersion.VERSION_1_8
		targetCompatibility JavaVersion.VERSION_1_8
	}
	// for multiple APKs
	splits {
		abi {
			enable true
			reset()
			include 'armeabi-v7a', 'arm64-v8a'
		}
	}
}

dependencies {
	/*implementation 'androidx.multidex:multidex:2.0.1'*/
	implementation 'androidx.preference:preference:1.1.0'
	// MultiCraft Native
	implementation project(':native')
	//noinspection GradleDependency
	implementation 'commons-io:commons-io:2.5'
}
